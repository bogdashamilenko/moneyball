libarary(dplyr)
salary <- read.csv('C:/Users/Bogdan/Desktop/Salaries.csv')
battling <- read.csv('C:/Users/Bogdan/Desktop/Batting.csv')

#Creation of required metrics 
battling$bavg <- battling$H/battling$AB
battling$X1B <- battling$H - battling$X2B - battling$X3B - battling$HR
battling$OBP <- (battling$H + battling$BB + battling$HBP)/ ( battling$AB + battling$BB + battling$HBP + battling$SF)
battling$SLG <- (battling$X1B + 2*battling$X2B + 3*battling$X3B + 4*battling$HR)/ battling$AB
#Since the data in salary begins from 1985 and batling data dates to the earlier period, let`s filter and merge data frames
battling <- subset(battling, yearID > 1984)
df <- merge(battling,salary, by = c('playerID','yearID'))

# Identifying lost players in the whole data by using pipe operator
players <- c('giambja01','damonjo01','saenzol01')
lost.players <- subset(df, playerID %in% players ) 
lost.players <- subset(lost.players, yearID == 2001)
lost.players <-subset(lost.players, select= c(yearID,playerID,H,X2B,X3B,HR,OBP,SLG,bavg,AB))
